{% load staticfiles i18n %}
{% load home_d3tags %}
<!DOCTYPE html>

<html>
    <head>
        {% block meta_tags %}
        <meta charset="utf-8"
        {% endblock %}
        <title>
            {% block title %}
                {% trans "Story Decoder Home" %}
            {% endblock %}
        </title>
        {% block stylesheets %}
            <link rel="stylesheet" href="{% static "home/bootstrap/css/bootstrap.min.css" %}" type="text/css" />
            {# <link rel="stylesheet" href="{% static "home/css/base.css" %}" type="text/css" /> #}
        {% endblock %}
        {% block javascript %}
            {# <script src="{% static "home/js/jquery-1.7.2.min.js" %}" type="text/javascript"></script> #}
            <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
            <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
            <script src="{% static "home/bootstrap/js/bootstrap.min.js" %}" type="text/javascript"></script>
            <script src="{% static "home/js/plots.js" %}" type="text/javascript"></script>
            <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
        {% endblock %}
        {% block head %}
        {% endblock %}
    </head>
    <body>
        <header class="navbar navbar-fixed-top">
            {% include "home/nav.html" %}
        </header>
        <div id="main" role="main">
            <div class="container">
                {% block content %}
                <h2>Nodes</h2>
                {{ data.nodes }}<br />
                <h2>Edges</h2>
                {{ data.edges }}<br />
                <h2>D3 Plot</h2>
                <ul>
                <li>whatever</li>
                <script>
                var nodes = {{ data.nodes | jsonify | safe }}
                var edges = {{ data.edges | jsonify | safe }}
                var data = {{ data | jsonify | safe }}
                d3.select("body")
                    .append("ul")
                    .selectAll("li")
                        .data(data.nodes)
                        .enter()
                        .append("li")
                            .text(function (d) {
                                return "#" + d; 
                            });
                </script>
                </ul>
                {% endblock %}

            </div>
        </div>
    </body>
</html>